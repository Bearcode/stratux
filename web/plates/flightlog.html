<div class="col-sm-12">
	<div class="panel panel-default">
		<div class="panel-heading">
			<span class="panel_label">Flight Log</span>
			<span ng-show="ConnectState == 'Connected'" class="label label-success">{{ConnectState}}</span>
			<span ng-hide="ConnectState == 'Connected'" class="label label-danger">{{ConnectState}}</span>
			<span ng-hide="ReplayMode == false" class="label label-primary">SIMULATION MODE</span>
		</div>
		<div class="panel-body">
			<div class="row">
				<div class="col-sm-6">
					<span class="col-xs-2" ng-hide="showReg"><strong>Date</strong></span>
					<span class="col-xs-2" ng-hide="showReg"><strong>Time (Z)</strong></span>
					<span class="col-xs-2" ng-hide="showReg"><strong>Start</strong></span>
					<span class="col-xs-2" ng-hide="showReg"><strong>End</strong></span>
					<span class="col-xs-2" ng-hide="showReg"><strong>Dur.</strong></span>
					<span class="col-xs-2" ng-hide="showReg"><strong>Dist.</strong></span>
				</div>
				<div class="col-sm-6">
					<span class="col-xs-6" ng-hide="showReg"><strong>Actions</strong></span>
				</div>
			</div>
			
			<div class="row flightrow" ng-class="{'selected': $index == selectedIndex}" ng-repeat="flight in data_list | orderBy: 'id': true" ng-click="getDetails($index, flight.id)" style="cursor:pointer;">
				<div class="separator"></div>
				<div class="col-sm-6">
					<span class="col-xs-2" ng-hide="showReg">{{flight.date}}</span>
					<span class="col-xs-2" ng-hide="showReg">{{flight.time}}</span>
					<span class="col-xs-2" ng-hide="showReg">{{flight.start_airport_id}}</span>
					<span class="col-xs-2" ng-hide="showReg">{{flight.end_airport_id}}</span>
					<span class="col-xs-2" ng-hide="showReg">{{flight.hms}}</span>
					<span class="col-xs-2" ng-hide="showReg">{{flight.distance}}</span>
				</div>
				<div class="col-sm-6">
					<span class="col-xs-6" ng-hide="showReg">
						<button ng-click="replayFlight(flight.id)">Replay</button>&nbsp;
						<a target="_blank" href="/flightlog/kml/{{flight.id}}">KML</a>&nbsp;
						<a target="_blank" href="/flightlog/csv/{{flight.id}}">CSV</a>&nbsp;
						<button ng-click="preDeleteFlight(flight.id)" ui-turn-on="modalDelete">Delete</button>&nbsp;
					</span>
				</div>			
			</div>
			
			<!-- footer -->
		<div class="panel-body flog-footer">
			<div class="separator"></div>
			<div class="row">
				<div class="col-sm-3">
					<label class="control-label col-xs-6">Replay Speed</label>
					<span class="col-xs-3">
						<select style="margin-top:5px;" ng-model="playbackSpeed" ng-options="x for x in speeds">
						</select>
					</span>
				</div>
				<div class="col-sm-3">
					<label class="control-label col-xs-6">Replay Controls</label>
					<button style="margin-top:5px;" ng-hide="ReplayMode == false || ReplayPaused == true" ng-click="pauseReplay()">Pause</button>
					<button style="margin-top:5px;" ng-hide="ReplayMode == false || ReplayPaused == false" ng-click="resumeReplay()">Play</button>
					<button style="margin-top:5px;" ng-hide="ReplayMode == false" ng-click="stopReplay()">Stop</button>
				</div>
				<!--
				<div class="col-sm-4">
					<label class="control-label col-xs-6">GPS Status</label>
					<span ng-show="GPS_connected" class="label label-success col-xs-3" style="font-size:100%; display:block; height: 34px; line-height: 34px">Valid</span>
					<span ng-hide="GPS_connected" class="label label-danger col-xs-3" style="font-size:100%; display:block; height: 34px; line-height: 34px">No Fix</span>
				</div>
				-->
			</div>
		</div>
		</div>
	</div>
	
	<div class="panel panel-default">
		<div class="panel-heading">
			<span class="panel_label">Flight Details</span>
		</div>
		<div class="panel-body">
		
			<div>
				<rzslider rz-slider-model="timeSlider.value" rz-slider-options="timeSlider.options"></rzslider>
			</div>
		
			<div class="row">
				<div class="col-sm-6">
					<span class="col-xs-3" ng-hide="showReg"><strong>Event</strong></span>
					<span class="col-xs-3" ng-hide="showReg"><strong>Location</strong></span>
					<span class="col-xs-3" ng-hide="showReg"><strong>Time (L)</strong></span>
					<span class="col-xs-3" ng-hide="showReg"><strong>Time (S)</strong></span>
				</div>
				<div class="col-sm-6">
					<span class="col-xs-12" ng-hide="showReg"><strong>Actions</strong></span>
				</div>
			</div>
			
			<!-- events -->
			<div class="row flightrow" ng-class="{'selected': timeSlider.value >= event.seconds}" ng-repeat="event in flight_events | orderBy: 'timestamp'" ng-click="jumpToTimestamp(event.timestamp, event.flight)" style="cursor:pointer;">
				<div class="separator"></div>
				<div class="col-sm-12">
					<span class="col-xs-3" ng-hide="showReg">{{event.event}}</span>
					<span class="col-xs-3" ng-hide="showReg">{{event.location}}</span>
					<span class="col-xs-3" ng-hide="showReg">{{event.timeLocal}}</span>
					<span class="col-xs-3" ng-hide="showReg">{{event.timeHMS}}</span>
				</div>
			</div>
		</div>
	</div>
</div>

<div ui-content-for="modals">
  <div class="modal" ui-if="modalDelete" ui-state="modalDelete">
    <div class="modal-overlay "></div>
       	<div class="vertical-alignment-helper center-block">
        	<div class="modal-dialog vertical-align-center">
     
      <div class="modal-content">
        <div class="modal-header">
          <button class="close" 
                  ui-turn-off="modalDelete"></button>
          <h4 class="modal-title">Are you really sure?</h4>
        </div>
        <div class="modal-body">
          <p>Do you wish to delete the selected flight?</p>
          <p>Note that the system will permanently delete all records associated with this flight.</p>
        </div>
        <div class="modal-footer">
          <a ui-turn-off="modalDelete" class="btn btn-default">Cancel</a>
          <a ng-click="deleteFlight()" ui-turn-off="modalDelete" class="btn btn-primary">Delete</a>
        </div>
      </div>
    	  </div>
    </div>
  </div>
</div>